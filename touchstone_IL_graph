#This notebook will import a touchstone file and display insertion loss graph.
import pandas as pd
# Set the url of the raw .s4p file
url = "https://raw.githubusercontent.com/jayarerita/signal_integrity/master/cable_data_1.s4p?_sm_au_=iVVTv6Z6NHrfV6L5"
# Add in section here to read the first 100 rows of the file above as text and parse through each line to find the "#" symbol signifying the start of the data. 
# This can be used to set the number of "skiprows" for read_csv below. We can also pull the information from this line to show what the
# units and format of the data are. For examople if row number 24 is "#Hz S dB R 50" then we would set skip_rows = 24, SI_units = "dB", 
# number_type = "real", tester_impedance = "50"
with open(url, "r") as file1:
    # Search through the first 100 rows of the file
    for i in range(0, 100):
        # Search the first character in each successive line for the "#" symbol indicating the key row
        if (file1.readline(0) == "#"):
            # Set the skip row number for use in the read_csv
            skip_rows = i
            # Set a string variable to the skip row containing the units, number type, and impedance for later use
            key_row = file.readline()
            
            
# Read in the space delimited file, skipping the rows of header information
df = pd.read_csv(url, skiprows = 21, delim_whitespace = True)
df.head
